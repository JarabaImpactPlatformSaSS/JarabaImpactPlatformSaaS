<?php

/**
 * @file
 * Provides configurable checkout flows.
 */

use Drupal\commerce_checkout\Hook\CommerceCheckoutHooks;
use Drupal\commerce_checkout\Hook\CommerceCheckoutThemeHooks;
use Drupal\Core\Entity\EntityTypeInterface;
use Drupal\Core\Form\FormStateInterface;
use Drupal\Core\Hook\Attribute\LegacyHook;

/**
 * Implements hook_entity_base_field_info().
 */
#[LegacyHook]
function commerce_checkout_entity_base_field_info(EntityTypeInterface $entity_type): array {
  return \Drupal::service(CommerceCheckoutHooks::class)
    ->entityBaseFieldInfo($entity_type);
}

/**
 * Implements hook_form_alter().
 */
#[LegacyHook]
function commerce_checkout_form_alter(array &$form, FormStateInterface $form_state): void {
  \Drupal::service(CommerceCheckoutHooks::class)
    ->formAlter($form, $form_state);
}

/**
 * Implements hook_form_FORM_ID_alter() for 'commerce_order_type_form'.
 */
#[LegacyHook]
function commerce_checkout_form_commerce_order_type_form_alter(array &$form, FormStateInterface $form_state): void {
  \Drupal::service(CommerceCheckoutHooks::class)
    ->formCommerceOrderTypeFormAlter($form, $form_state);
}

/**
 * Implements hook_theme().
 */
#[LegacyHook]
function commerce_checkout_theme(): array {
  return \Drupal::service(CommerceCheckoutThemeHooks::class)->theme();
}

/**
 * Implements hook_theme_suggestions_HOOK().
 */
#[LegacyHook]
function commerce_checkout_theme_suggestions_commerce_checkout_form(array $variables): array {
  return \Drupal::service(CommerceCheckoutThemeHooks::class)
    ->themeSuggestionsCommerceCheckoutForm($variables);
}

/**
 * Implements hook_theme_suggestions_HOOK().
 */
#[LegacyHook]
function commerce_checkout_theme_suggestions_commerce_checkout_pane(array $variables): array {
  return \Drupal::service(CommerceCheckoutThemeHooks::class)
    ->themeSuggestionsCommerceCheckoutPane($variables);
}

/**
 * Implements hook_preprocess_HOOK().
 */
#[LegacyHook]
function commerce_checkout_preprocess_commerce_checkout_order_summary(array &$variables): void {
  \Drupal::service(CommerceCheckoutThemeHooks::class)
    ->preprocessCommerceCheckoutOrderSummary($variables);
}
