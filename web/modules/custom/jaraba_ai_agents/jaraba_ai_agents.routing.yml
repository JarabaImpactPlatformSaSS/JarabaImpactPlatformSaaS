jaraba_ai_agents.settings:
  path: '/admin/config/ai/agents'
  defaults:
    _form: '\Drupal\jaraba_ai_agents\Form\AgentSettingsForm'
    _title: 'AI Agents Settings'
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.brand_voice:
  path: '/admin/config/ai/brand-voice'
  defaults:
    _form: '\Drupal\jaraba_ai_agents\Form\BrandVoiceSettingsForm'
    _title: 'Brand Voice Configuration'
  requirements:
    _permission: 'manage tenant brand voice'

jaraba_ai_agents.dashboard:
  path: '/admin/ai/dashboard'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\DashboardController::dashboard'
    _title: 'AI Observability Dashboard'
  requirements:
    _permission: 'administer ai agents'

# REST API Routes
jaraba_ai_agents.api.list:
  path: '/api/v1/agents'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\AgentApiController::listAgents'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

jaraba_ai_agents.api.agent:
  path: '/api/v1/agents/{agent_id}'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\AgentApiController::getAgent'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

jaraba_ai_agents.api.actions:
  path: '/api/v1/agents/{agent_id}/actions'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\AgentApiController::getActions'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

jaraba_ai_agents.api.execute:
  path: '/api/v1/agents/{agent_id}/execute'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\AgentApiController::execute'
  methods: [POST]
  requirements:
    _permission: 'use ai agents'
    _csrf_token: 'TRUE'

# Observability API Routes
jaraba_ai_agents.api.observability.stats:
  path: '/api/v1/ai/observability/stats'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getStats'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.observability.cost_by_tier:
  path: '/api/v1/ai/observability/cost-by-tier'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getCostByTier'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.observability.usage_by_agent:
  path: '/api/v1/ai/observability/usage-by-agent'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getUsageByAgent'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.observability.savings:
  path: '/api/v1/ai/observability/savings'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getSavings'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.observability.dashboard:
  path: '/api/v1/ai/observability/dashboard'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getDashboard'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

# GAP-AUD-004: GEO Dashboard API Routes
jaraba_ai_agents.api.observability.usage_by_region:
  path: '/api/v1/ai/observability/usage-by-region'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getUsageByRegion'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.observability.export_csv:
  path: '/api/v1/ai/observability/export-csv'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::exportCsv'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.observability.trend:
  path: '/api/v1/ai/observability/trend'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getTrend'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

# Workflow API Routes
jaraba_ai_agents.api.workflows.list:
  path: '/api/v1/ai/workflows'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\WorkflowApiController::listWorkflows'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

jaraba_ai_agents.api.workflows.get:
  path: '/api/v1/ai/workflows/{workflow_id}'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\WorkflowApiController::getWorkflow'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

jaraba_ai_agents.api.workflows.execute:
  path: '/api/v1/ai/workflows/{workflow_id}/execute'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\WorkflowApiController::executeWorkflow'
  methods: [POST]
  requirements:
    _permission: 'use ai agents'
    _csrf_token: 'TRUE'

# Quality Evaluation API Routes
jaraba_ai_agents.api.quality.evaluate:
  path: '/api/v1/ai/quality/evaluate'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\QualityApiController::evaluate'
  methods: [POST]
  requirements:
    _permission: 'administer ai agents'
    _csrf_token: 'TRUE'

jaraba_ai_agents.api.quality.stats:
  path: '/api/v1/ai/quality/stats'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\QualityApiController::getStats'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.quality.criteria:
  path: '/api/v1/ai/quality/criteria'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\QualityApiController::getCriteria'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

# F11 — Brand Voice Training API Routes
jaraba_ai_agents.api.brand_voice.feedback:
  path: '/api/v1/ai/brand-voice/feedback'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\BrandVoiceTrainerApiController::recordFeedback'
  methods: [POST]
  requirements:
    _permission: 'manage tenant brand voice'
    _csrf_token: 'TRUE'

jaraba_ai_agents.api.brand_voice.alignment:
  path: '/api/v1/ai/brand-voice/alignment'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\BrandVoiceTrainerApiController::checkAlignment'
  methods: [POST]
  requirements:
    _permission: 'manage tenant brand voice'
    _csrf_token: 'TRUE'

jaraba_ai_agents.api.brand_voice.training_stats:
  path: '/api/v1/ai/brand-voice/training-stats'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\BrandVoiceTrainerApiController::getTrainingStats'
  methods: [GET]
  requirements:
    _permission: 'manage tenant brand voice'

jaraba_ai_agents.api.brand_voice.refine:
  path: '/api/v1/ai/brand-voice/refine'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\BrandVoiceTrainerApiController::refineBrandVoice'
  methods: [POST]
  requirements:
    _permission: 'administer ai agents'
    _csrf_token: 'TRUE'

# F11 — Prompt Experiment API Routes
jaraba_ai_agents.api.prompt_experiments.list:
  path: '/api/v1/ai/prompt-experiments'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\PromptExperimentApiController::listExperiments'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'

jaraba_ai_agents.api.prompt_experiments.create:
  path: '/api/v1/ai/prompt-experiments'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\PromptExperimentApiController::createExperiment'
  methods: [POST]
  requirements:
    _permission: 'administer ai agents'
    _csrf_token: 'TRUE'

jaraba_ai_agents.api.prompt_experiments.results:
  path: '/api/v1/ai/prompt-experiments/{experiment_id}/results'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\PromptExperimentApiController::getResults'
  methods: [GET]
  requirements:
    _permission: 'administer ai agents'
    experiment_id: '\d+'

# F11 — MultiModal capabilities check
jaraba_ai_agents.api.multimodal.capabilities:
  path: '/api/v1/ai/multimodal/capabilities'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\MultiModalApiController::getCapabilities'
  methods: [GET]
  requirements:
    _permission: 'use ai agents'

# FIX-034 — AI Feedback API
jaraba_ai_agents.api.feedback.submit:
  path: '/api/v1/ai/feedback'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\AiFeedbackController::submit'
  methods: [POST]
  requirements:
    _user_is_logged_in: 'TRUE'
    _csrf_token: 'TRUE'

entity.ai_feedback.collection:
  path: '/admin/content/ai-feedback'
  defaults:
    _entity_list: 'ai_feedback'
    _title: 'AI Feedback'
  requirements:
    _permission: 'administer ai agents'

# GAP-08: MCP Server — JSON-RPC 2.0 endpoint
jaraba_ai_agents.api.mcp:
  path: '/api/v1/mcp'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\McpServerController::handle'
  methods: [POST]
  requirements:
    _permission: 'use ai agents'
    _csrf_token: 'TRUE'

# GAP-AUD-010: Proactive Insights API
jaraba_ai_agents.api.proactive_insights.list:
  path: '/api/v1/proactive-insights'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ProactiveInsightApiController::listUnread'
  methods: [GET]
  requirements:
    _user_is_logged_in: 'TRUE'

jaraba_ai_agents.api.proactive_insights.mark_read:
  path: '/api/v1/proactive-insights/{proactive_insight}/read'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ProactiveInsightApiController::markRead'
  methods: [POST]
  requirements:
    _user_is_logged_in: 'TRUE'
    _csrf_request_header_token: 'TRUE'
  options:
    parameters:
      proactive_insight:
        type: entity:proactive_insight

entity.proactive_insight.collection:
  path: '/admin/content/proactive-insight'
  defaults:
    _entity_list: 'proactive_insight'
    _title: 'Proactive Insights'
  requirements:
    _permission: 'administer proactive insights'

# GAP-AUD-009: Inline AI Suggestions API
jaraba_ai_agents.inline_ai.suggest:
  path: '/api/v1/inline-ai/suggest'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\InlineAiController::suggest'
  methods: [POST]
  requirements:
    _permission: 'use ai agents'
    _csrf_request_header_token: 'TRUE'

entity.ai_usage_log.collection:
  path: '/admin/content/ai-usage-logs'
  defaults:
    _entity_list: 'ai_usage_log'
    _title: 'AI Usage Logs'
  requirements:
    _permission: 'administer site configuration'

entity.pending_approval.collection:
  path: '/admin/content/pending-approvals'
  defaults:
    _entity_list: 'pending_approval'
    _title: 'Pending Approvals'
  requirements:
    _permission: 'administer site configuration'

entity.ai_usage_log.settings:
  path: '/admin/structure/ai-usage-log/settings'
  defaults:
    _form: 'Drupal\jaraba_ai_agents\Form\AIUsageLogSettingsForm'
    _title: 'AI Usage Log settings'
  requirements:
    _permission: 'administer ai agents'

entity.collaboration_session.settings:
  path: '/admin/structure/collaboration-session/settings'
  defaults:
    _form: 'Drupal\jaraba_ai_agents\Form\CollaborationSessionSettingsForm'
    _title: 'Collaboration Session settings'
  requirements:
    _permission: 'administer site configuration'

entity.pending_approval.settings:
  path: '/admin/structure/pending-approval/settings'
  defaults:
    _form: 'Drupal\jaraba_ai_agents\Form\PendingApprovalSettingsForm'
    _title: 'Pending Approval settings'
  requirements:
    _permission: 'administer ai agents'

# GAP-AUD-012: A2A Protocol routes.
jaraba_ai_agents.a2a.agent_card:
  path: '/.well-known/agent.json'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\AgentCardController::agentCard'
  requirements:
    _access: 'TRUE'
  methods: [GET]

jaraba_ai_agents.a2a.task_submit:
  path: '/api/v1/a2a/tasks/send'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\A2ATaskController::submitTask'
  requirements:
    _permission: 'use ai agents'
  methods: [POST]

jaraba_ai_agents.a2a.task_status:
  path: '/api/v1/a2a/tasks/{task_id}'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\A2ATaskController::getTaskStatus'
  requirements:
    _permission: 'use ai agents'
    task_id: '\d+'
  methods: [GET]

jaraba_ai_agents.a2a.task_cancel:
  path: '/api/v1/a2a/tasks/{task_id}/cancel'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\A2ATaskController::cancelTask'
  requirements:
    _permission: 'use ai agents'
    _csrf_request_header_token: 'TRUE'
    task_id: '\d+'
  methods: [POST]

entity.a2a_task.collection:
  path: '/admin/content/a2a-tasks'
  defaults:
    _entity_list: 'a2a_task'
    _title: 'A2A Tasks'
  requirements:
    _permission: 'administer ai agents'

# GAP-AUD-024: Per-tenant AI cost attribution.
jaraba_ai_agents.api.observability.cost_attribution:
  path: '/api/v1/ai/observability/cost-attribution'
  defaults:
    _controller: '\Drupal\jaraba_ai_agents\Controller\ObservabilityApiController::getCostAttribution'
  methods: [GET]
  requirements:
    _user_is_logged_in: 'TRUE'
