{#
/**
 * @file
 * Template: Category page (sin regiones de Drupal).
 *
 * Variables (from CategoryController):
 * - category: Array con datos de categoría
 *   - id, name, description, color, icon
 * - articles: Array de artículos de la categoría
 * - show_reading_time: Boolean
 *
 * Directrices aplicadas:
 * - i18n: Todos los textos con {% trans %}
 * - URLs: path() en vez de strings hardcodeados
 * - Parciales: _article-card.html.twig
 * - Iconos: jaraba_icon() del sistema de iconos
 */
#}
{{ attach_library('ecosistema_jaraba_theme/content-hub') }}

<div class="category-page">
  {# Category hero #}
  <section class="category-hero" style="--category-color: {{ category.color|default('#233D63') }}">
    <div class="container">
      <a href="{{ path('jaraba_content_hub.blog') }}" class="category-hero__back">
        {{ jaraba_icon('ui', 'chevron-left', { size: '20px' }) }}
        {% trans %}Back to Blog{% endtrans %}
      </a>
      <h1 class="category-hero__title">{{ category.name }}</h1>
      {% if category.description %}
        <p class="category-hero__description">{{ category.description }}</p>
      {% endif %}
    </div>
  </section>

  {# Articles grid #}
  <section class="category-content">
    <div class="container">
      {% if articles is not empty %}
        <div class="articles-grid articles-grid--3cols">
          {% for article in articles %}
            {% include '@ecosistema_jaraba_theme/partials/_article-card.html.twig' with {
              article: article,
              show_reading_time: show_reading_time,
              variant: 'standard'
            } only %}
          {% endfor %}
        </div>
      {% else %}
        <div class="category-empty">
          <div class="blog-empty__icon">
            {{ jaraba_icon('ui', 'search', { size: '48px', color: 'neutral' }) }}
          </div>
          <h3 class="blog-empty__title">
            {% trans %}No articles in this category yet{% endtrans %}
          </h3>
          <p class="blog-empty__text">
            {% trans %}Check back soon or explore other categories.{% endtrans %}
          </p>
          <a href="{{ path('jaraba_content_hub.blog') }}" class="btn btn--primary">
            {% trans %}View all articles{% endtrans %}
          </a>
        </div>
      {% endif %}
    </div>
  </section>
</div>
