{#
/**
 * @file
 * Template for user's job applications listing.
 *
 * Available variables:
 * - applications: Array of applications with id, job_title, company, status, applied_at.
 */
#}
<div class="my-applications" role="main" aria-label="{{ 'My job applications'|t }}">
  {% if applications %}
    <div class="applications-list" role="list" aria-label="{{ 'Applications list'|t }}">
      {% for app in applications %}
        <div class="application-card status-{{ app.status }}" role="listitem">
          <div class="application-header">
            <h3 class="job-title">{{ app.job_title }}</h3>
            <span class="status-badge status-{{ app.status }}" role="status">
              {% if app.status == 'applied' %}
                {{ 'En revisión'|t }}
              {% elseif app.status == 'screening' %}
                {{ 'Evaluando'|t }}
              {% elseif app.status == 'shortlisted' %}
                {{ 'Preseleccionado'|t }}
              {% elseif app.status == 'interviewed' %}
                {{ 'Entrevistado'|t }}
              {% elseif app.status == 'offered' %}
                {{ 'Oferta recibida'|t }}
              {% elseif app.status == 'hired' %}
                {{ 'Contratado'|t }}
              {% elseif app.status == 'rejected' %}
                {{ 'No seleccionado'|t }}
              {% else %}
                {{ app.status|capitalize }}
              {% endif %}
            </span>
          </div>
          <div class="application-meta">
            <span class="company">{{ app.company }}</span>
            <span class="date">{{ app.applied_at|date('d/m/Y') }}</span>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    {# Empty State Premium #}
    <div class="empty-state-premium">
      <div class="empty-icon">
        {{ jaraba_icon('ui', 'inbox', { variant: 'duotone', size: '48px', color: 'corporate' }) }}
      </div>
      <h3 class="empty-title">{{ 'Tu historial de candidaturas está vacío'|t }}</h3>
      <p class="empty-message">{{ 'Cuando apliques a ofertas de empleo, aparecerán aquí para que puedas hacer seguimiento de tu progreso.'|t }}</p>
      <a href="{{ path('jaraba_job_board.search') }}" class="btn btn-primary btn-large" aria-label="{{ 'Browse available job offers'|t }}">
        {{ 'Explorar ofertas de empleo'|t }}
      </a>
    </div>
  {% endif %}
</div>
