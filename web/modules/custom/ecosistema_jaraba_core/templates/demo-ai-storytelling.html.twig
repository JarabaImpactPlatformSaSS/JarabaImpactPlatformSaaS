{#
/**
 * @file
 * Template para la demo de storytelling con IA.
 *
 * Variables:
 * - session: Datos de la sesi√≥n de demo.
 * - generated_story: Historia generada por IA.
 *
 * Q1 2027 - Gap P0: Time-to-Value < 60s
 */
#}

<div class="demo-storytelling-container" data-session-id="{{ session.session_id }}">
  {# Banner de Demo #}
  <div class="demo-banner">
    <a href="/demo/dashboard/{{ session.session_id }}" class="back-link">‚Üê Volver al Dashboard</a>
    <span class="demo-badge">üéÆ MODO DEMO</span>
  </div>

  <div class="storytelling-content">
    <div class="story-header">
      <span class="story-icon">‚ú®</span>
      <h1>Tu Historia Generada por IA</h1>
      <p class="story-subtitle">{{ session.tenant_name }}</p>
    </div>

    <div class="generated-story-card">
      <div class="story-content">
        {{ generated_story|raw }}
      </div>
      <div class="story-actions">
        <button class="regenerate-btn" id="regenerate-story">
          üîÑ Regenerar Historia
        </button>
        <button class="copy-btn" id="copy-story">
          üìã Copiar
        </button>
      </div>
    </div>

    <div class="ai-info-box">
      <h3>üí° ¬øC√≥mo funciona?</h3>
      <p>Nuestra IA analiza tu perfil, productos y ubicaci√≥n para crear una historia √∫nica que conecta con tus clientes. En producci√≥n, podr√°s:</p>
      <ul>
        <li>‚úÖ Personalizar el tono y estilo</li>
        <li>‚úÖ Generar versiones para diferentes plataformas</li>
        <li>‚úÖ Traducir autom√°ticamente a otros idiomas</li>
        <li>‚úÖ Integrar con tus redes sociales</li>
      </ul>
    </div>

    <div class="demo-cta">
      <p>¬øTe gusta lo que ves?</p>
      <a href="/registro" class="cta-btn">Crear Mi Cuenta Real ‚Üí</a>
    </div>
  </div>
</div>

<style>
  .demo-storytelling-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 2rem;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  }

  .demo-banner {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
  }

  .back-link {
    color: #667eea;
    text-decoration: none;
    font-weight: 500;
  }

  .demo-badge {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
  }

  .storytelling-content {
    text-align: center;
  }

  .story-header {
    margin-bottom: 2rem;
  }

  .story-icon {
    font-size: 4rem;
    display: block;
    margin-bottom: 1rem;
  }

  .story-header h1 {
    font-size: 2rem;
    color: #1a1a2e;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .story-subtitle {
    color: #666;
    font-size: 1.1rem;
  }

  .generated-story-card {
    background: white;
    border-radius: 20px;
    padding: 2rem;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
    text-align: left;
  }

  .story-content {
    font-size: 1.1rem;
    line-height: 1.8;
    color: #333;
    margin-bottom: 1.5rem;
  }

  .story-actions {
    display: flex;
    gap: 1rem;
    justify-content: center;
  }

  .regenerate-btn, .copy-btn {
    padding: 0.75rem 1.5rem;
    border-radius: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    border: none;
  }

  .regenerate-btn {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
  }

  .copy-btn {
    background: #f0f4ff;
    color: #667eea;
  }

  .regenerate-btn:hover, .copy-btn:hover {
    transform: scale(1.05);
  }

  .ai-info-box {
    background: #f8f9ff;
    border-radius: 16px;
    padding: 1.5rem;
    text-align: left;
    margin-bottom: 2rem;
  }

  .ai-info-box h3 {
    margin-bottom: 0.75rem;
    color: #1a1a2e;
  }

  .ai-info-box p {
    color: #666;
    margin-bottom: 1rem;
  }

  .ai-info-box ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .ai-info-box li {
    padding: 0.25rem 0;
    color: #444;
  }

  .demo-cta {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 16px;
    padding: 2rem;
    color: white;
  }

  .demo-cta p {
    margin-bottom: 1rem;
    font-size: 1.1rem;
  }

  .cta-btn {
    display: inline-block;
    background: white;
    color: #667eea;
    padding: 0.875rem 2rem;
    border-radius: 12px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .cta-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
  }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Copy story
  document.getElementById('copy-story').addEventListener('click', function() {
    const story = document.querySelector('.story-content').innerText;
    navigator.clipboard.writeText(story).then(() => {
      this.innerText = '‚úÖ Copiado';
      setTimeout(() => { this.innerText = 'üìã Copiar'; }, 2000);
    });
  });

  // Regenerate (demo feedback)
  document.getElementById('regenerate-story').addEventListener('click', function() {
    this.innerText = '‚è≥ Generando...';
    setTimeout(() => {
      this.innerText = 'üîÑ Regenerar Historia';
      alert('En la versi√≥n completa, aqu√≠ se generar√≠a una nueva historia con diferentes palabras clave y tono.');
    }, 1500);
  });
});
</script>
