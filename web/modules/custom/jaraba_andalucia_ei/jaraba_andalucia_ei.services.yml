services:
  jaraba_andalucia_ei.ai_mentorship_tracker:
    class: Drupal\jaraba_andalucia_ei\Service\AiMentorshipTracker
    arguments:
      - '@entity_type.manager'
      - '@database'
      - '@logger.channel.jaraba_andalucia_ei'
      - '@config.factory'
      - '@datetime.time'

  jaraba_andalucia_ei.sto_export:
    class: Drupal\jaraba_andalucia_ei\Service\StoExportService
    arguments:
      - '@entity_type.manager'
      - '@?jaraba_sepe_teleformacion.soap_service'
      - '@logger.channel.jaraba_andalucia_ei'
      - '@config.factory'

  jaraba_andalucia_ei.fase_transition_manager:
    class: Drupal\jaraba_andalucia_ei\Service\FaseTransitionManager
    arguments:
      - '@entity_type.manager'
      - '@event_dispatcher'
      - '@logger.channel.jaraba_andalucia_ei'

  logger.channel.jaraba_andalucia_ei:
    parent: logger.channel_base
    arguments: ['jaraba_andalucia_ei']

  jaraba_andalucia_ei.solicitud_triage:
    class: Drupal\jaraba_andalucia_ei\Service\SolicitudTriageService
    arguments:
      - '@?ai.provider'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.expediente:
    class: Drupal\jaraba_andalucia_ei\Service\ExpedienteService
    arguments:
      - '@entity_type.manager'
      - '@current_user'
      - '@?jaraba_legal_vault.document_vault'
      - '@?ecosistema_jaraba_core.firma_digital'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.documento_revision_ia:
    class: Drupal\jaraba_andalucia_ei\Service\DocumentoRevisionIaService
    arguments:
      - '@entity_type.manager'
      - '@?ai.provider'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.informe_progreso_pdf:
    class: Drupal\jaraba_andalucia_ei\Service\InformeProgresoPdfService
    arguments:
      - '@entity_type.manager'
      - '@?ecosistema_jaraba_core.branded_pdf'
      - '@jaraba_andalucia_ei.expediente'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.copilot_context_provider:
    class: Drupal\jaraba_andalucia_ei\Service\AndaluciaEiCopilotContextProvider
    arguments:
      - '@entity_type.manager'
      - '@current_user'
      - '@jaraba_andalucia_ei.expediente'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.adaptive_difficulty:
    class: Drupal\jaraba_andalucia_ei\Service\AdaptiveDifficultyEngine
    arguments:
      - '@entity_type.manager'
      - '@datetime.time'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.mensajeria_integration:
    class: Drupal\jaraba_andalucia_ei\Service\MensajeriaIntegrationService
    arguments:
      - '@entity_type.manager'
      - '@?jaraba_messaging.messaging'
      - '@logger.channel.jaraba_andalucia_ei'

  jaraba_andalucia_ei.participante_access_check:
    class: Drupal\jaraba_andalucia_ei\Access\ParticipanteAccessCheck
    arguments:
      - '@entity_type.manager'
    tags:
      - { name: access_check, applies_to: _participante_access }
