{#
/**
 * @file
 * page--credentials.html.twig - Verificación y Dashboard de Credenciales
 *
 * ARQUITECTURA LIMPIA (mismo patrón que page--crm.html.twig):
 * - Sin {{ page.* }} = Sin bloques de Drupal (excepto page.content)
 * - Usa {% include %} de partials reutilizables
 * - i18n con {% trans %}
 * - Variables CSS var(--ej-*)
 * - Full-width layout premium
 *
 * PROPÓSITO: Página de verificación pública de credenciales y dashboard de usuario.
 * 
 * RUTAS:
 * - /verify/{uuid} - Verificación pública de credencial
 * - /my-certifications - Dashboard de credenciales del usuario
 */
#}
{% set site_name = site_name|default('Jaraba Impact Platform') %}
{% set current_route = path('<current>')|split('/')[1]|default('') %}

{{ attach_library('ecosistema_jaraba_theme/global') }}
{# Cargar library específica según ruta #}
{% if current_route == 'my-certifications' %}
  {{ attach_library('jaraba_credentials/dashboard') }}
{% else %}
  {{ attach_library('jaraba_credentials/verify') }}
{% endif %}

<!DOCTYPE html>
<html{{ html_attributes }}>
<head>
  <head-placeholder token="{{ placeholder_token }}">
  <title>{{ head_title|safe_join(' | ') }}</title>
  <css-placeholder token="{{ placeholder_token }}">
  <js-placeholder token="{{ placeholder_token }}">
</head>

<body{{ attributes.addClass('page-credentials', 'dashboard-page') }}>
  <a href="#main-content" class="visually-hidden focusable skip-link">
    {% trans %}Skip to main content{% endtrans %}
  </a>

  {# HEADER - Partial reutilizable con menú móvil #}
  {% include '@ecosistema_jaraba_theme/partials/_header.html.twig' with {
    site_name: site_name,
    logo: logo|default(''),
    logged_in: logged_in,
    theme_settings: theme_settings|default({})
  } %}

  {# MAIN CONTENT - Full-width credentials layout #}
  <main id="main-content" class="dashboard-main credentials-main">
    <div class="dashboard-wrapper credentials-wrapper">
      {{ page.content }}
    </div>
  </main>

  {# FOOTER - Partial configurable desde UI #}
  {% include '@ecosistema_jaraba_theme/partials/_footer.html.twig' with {
    site_name: site_name,
    logo: logo|default(''),
    theme_settings: theme_settings|default({})
  } %}

  {# Drupal Required Placeholders #}
  <js-bottom-placeholder token="{{ placeholder_token }}">

</body>
</html>
