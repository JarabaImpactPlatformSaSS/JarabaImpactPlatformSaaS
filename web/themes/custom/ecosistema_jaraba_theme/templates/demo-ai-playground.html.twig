{#
 # Template: AI Playground — Public interactive demo page.
 #
 # Variables:
 #   - scenarios: Array of demo scenario configs.
 #   - copilot_endpoint: The public copilot API URL.
 #
 # GAP-AUD-003: Demo/Playground Público
 #}

<div class="demo-playground">
  {# Hero Section #}
  <section class="demo-playground__hero">
    <div class="demo-playground__hero-inner">
      <h1 class="demo-playground__title">
        {{ 'AI Playground'|t }}
      </h1>
      <p class="demo-playground__subtitle">
        {{ 'Experience the power of our AI agents. Choose a scenario and start chatting — no registration required.'|t }}
      </p>
    </div>
  </section>

  {# Scenario Tabs #}
  <section class="demo-playground__scenarios">
    <div class="demo-playground__scenario-tabs" role="tablist">
      {% for scenario in scenarios %}
        <button
          class="demo-playground__tab{% if loop.first %} demo-playground__tab--active{% endif %}"
          role="tab"
          aria-selected="{{ loop.first ? 'true' : 'false' }}"
          data-scenario-id="{{ scenario.id }}"
          data-scenario-prompt="{{ scenario.prompt|e('html_attr') }}"
        >
          <span class="demo-playground__tab-icon material-icons" aria-hidden="true">{{ scenario.icon }}</span>
          <span class="demo-playground__tab-label">{{ scenario.title }}</span>
        </button>
      {% endfor %}
    </div>
    <div class="demo-playground__scenario-description" aria-live="polite">
      {% for scenario in scenarios %}
        <p class="demo-playground__desc{% if loop.first %} demo-playground__desc--active{% endif %}" data-desc-id="{{ scenario.id }}">
          {{ scenario.description }}
        </p>
      {% endfor %}
    </div>
  </section>

  {# Chat Widget #}
  <section class="demo-playground__chat">
    <div class="demo-playground__chat-container" id="demo-copilot">
      <div class="demo-playground__messages" id="demo-messages" aria-live="polite" aria-label="{{ 'Chat messages'|t }}">
        <div class="demo-playground__welcome">
          <p>{{ 'Hello! I am your AI assistant. Select a scenario above and click "Try it" to start, or type your own question below.'|t }}</p>
        </div>
      </div>
      <form class="demo-playground__input-form" id="demo-chat-form">
        <label for="demo-chat-input" class="visually-hidden">{{ 'Your message'|t }}</label>
        <input
          type="text"
          id="demo-chat-input"
          class="demo-playground__input"
          placeholder="{{ 'Type your question...'|t }}"
          autocomplete="off"
          maxlength="500"
        >
        <button type="submit" class="demo-playground__send" aria-label="{{ 'Send message'|t }}">
          <span class="material-icons" aria-hidden="true">send</span>
        </button>
      </form>
      <p class="demo-playground__rate-limit">
        {{ 'Free demo — 10 messages per minute. <a href="/registro">Create a free account</a> for unlimited access.'|t }}
      </p>
    </div>
  </section>

  {# CTA Section #}
  <section class="demo-playground__cta">
    <h2 class="demo-playground__cta-title">{{ 'Ready to unlock the full power?'|t }}</h2>
    <p class="demo-playground__cta-text">
      {{ 'Create a free account to access all AI agents, custom branding, and advanced features.'|t }}
    </p>
    <a href="/registro" class="demo-playground__cta-button">
      {{ 'Create Free Account'|t }}
    </a>
  </section>
</div>
