{#
/**
 * @file
 * templates/partials/_hero.html.twig
 *
 * Hero Section reutilizable para landing pages.
 * Soporta múltiples layouts: fullscreen, split, compact, animated, centered
 * i18n con {% trans %}, variables CSS var(--ej-*)
 *
 * Variables esperadas:
 * - theme_settings.hero_layout: fullscreen|split|compact|animated|centered
 * - logged_in: TRUE si el usuario está autenticado
 * - hero: Array con datos dinámicos del Page Builder (opcional)
 * - intentions: Array de intenciones dinámicas (opcional)
 */
#}
{% set ts = theme_settings|default({}) %}
{% set hero_layout = ts.hero_layout|default('fullscreen') %}

{# Datos dinámicos con fallbacks i18n #}
{% set h = hero|default({}) %}

<section class="hero-landing hero-landing--{{ hero_layout }}" aria-labelledby="hero-title">
  
  {# Animated Background #}
  <div class="hero-landing__bg">
    <div class="hero-landing__gradient"></div>
    {% if hero_layout == 'animated' %}
      <div class="hero-landing__particles"></div>
    {% endif %}
  </div>

  {# Content #}
  <div class="hero-landing__content">
    <span class="hero-landing__eyebrow">
      {% if h.eyebrow %}{{ h.eyebrow }}{% else %}{% trans %}Plataforma SaaS para Ecosistemas de Impacto{% endtrans %}{% endif %}
    </span>
    
    <h1 id="hero-title" class="hero-landing__title">
      {% if h.title %}{{ h.title }}{% else %}{% trans %}Impulsa tu ecosistema digital{% endtrans %}{% endif %}
    </h1>
    
    <div class="hero-landing__subtitle">
      {% if h.subtitle %}{{ h.subtitle|striptags('<strong><em><br><a>')|raw }}{% else %}{% trans %}Empleo · Emprendimiento · AgroConecta · Comercio · JarabaLex · Servicios — todo impulsado por IA, en una sola plataforma de impacto social.{% endtrans %}{% endif %}
    </div>
  </div>

  {# Intentions Grid - Incluir partial con datos dinámicos #}
  {% include '@ecosistema_jaraba_theme/partials/_intentions-grid.html.twig' with {
    intentions: intentions|default([])
  } %}

  {# CTAs Principales #}
  <div class="hero-landing__actions">
    <a href="{{ h.cta_primary.url|default('/user/register') }}" class="btn-primary btn-primary--large btn-primary--glow">
      <svg class="btn-icon" viewBox="0 0 20 20" width="20" height="20">
        <path d="M10 2L13 8H18L14 12L16 18L10 14L4 18L6 12L2 8H7L10 2Z" fill="currentColor"/>
      </svg>
      <span>{% if h.cta_primary.text %}{{ h.cta_primary.text }}{% else %}{% trans %}Empezar gratis{% endtrans %}{% endif %}</span>
    </a>
    
    <a href="{{ h.cta_secondary.url|default('/user/login') }}" class="btn-secondary btn-secondary--large">
      <span>{% if h.cta_secondary.text %}{{ h.cta_secondary.text }}{% else %}{% trans %}Ya tengo cuenta{% endtrans %}{% endif %}</span>
      <svg class="btn-icon" viewBox="0 0 20 20" width="20" height="20">
        <path d="M8 4L14 10L8 16" fill="none" stroke="currentColor" stroke-width="2"/>
      </svg>
    </a>
  </div>

  {# Trust Bar - Credibilidad Clase Mundial #}
  <div class="hero-landing__trust-bar" aria-label="{% trans %}Certificaciones y estándares{% endtrans %}">
    <span class="hero-landing__trust-badge">
      <svg viewBox="0 0 20 20" width="16" height="16" aria-hidden="true"><path d="M10 1L3 5v6c0 5.55 3.84 9.74 7 11 3.16-1.26 7-5.45 7-11V5L10 1z" fill="none" stroke="currentColor" stroke-width="1.5"/><path d="M7 10l2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
      {% trans %}Cumplimiento RGPD{% endtrans %}
    </span>
    <span class="hero-landing__trust-separator" aria-hidden="true">·</span>
    <span class="hero-landing__trust-badge">
      <svg viewBox="0 0 20 20" width="16" height="16" aria-hidden="true"><circle cx="10" cy="10" r="3" fill="currentColor"/><path d="M10 1v4M10 15v4M1 10h4M15 10h4M3.93 3.93l2.83 2.83M13.24 13.24l2.83 2.83M3.93 16.07l2.83-2.83M13.24 6.76l2.83-2.83" fill="none" stroke="currentColor" stroke-width="1.5"/></svg>
      {% trans %}IA de Clase Mundial{% endtrans %}
    </span>
    <span class="hero-landing__trust-separator" aria-hidden="true">·</span>
    <span class="hero-landing__trust-badge">
      <svg viewBox="0 0 20 20" width="16" height="16" aria-hidden="true"><rect x="3" y="8" width="14" height="10" rx="2" fill="none" stroke="currentColor" stroke-width="1.5"/><path d="M6 8V5a4 4 0 0 1 8 0v3" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="10" cy="13" r="1.5" fill="currentColor"/></svg>
      {% trans %}Datos Protegidos{% endtrans %}
    </span>
  </div>

  {# Scroll Indicator #}
  <div class="hero-landing__scroll" aria-hidden="true">
    <span>{% if h.scroll_text %}{{ h.scroll_text }}{% else %}{% trans %}Descubre más{% endtrans %}{% endif %}</span>
    <div class="hero-landing__scroll-mouse"></div>
  </div>

</section>


