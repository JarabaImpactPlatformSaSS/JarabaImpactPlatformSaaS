{#
/**
 * @file
 * templates/partials/_stats.html.twig
 *
 * Sección de estadísticas/social proof del homepage.
 * Contador animado con data-count.
 *
 * VARIABLES:
 * - stats: Array de estadísticas desde theme settings o Page Builder
 *
 * DIRECTRICES:
 * - i18n: {% trans %} en todos los textos estáticos
 * - METRICS-HONESTY: Solo datos verificables. Sin métricas fabricadas.
 *
 * DESIGN DECISIONS (Auditoría Meta-Sitio Feb 2026):
 * - Métricas anteriores (1500+ candidatos, 120+ empresas) eran fabricadas
 * - Reemplazadas por datos verificables del programa real:
 *   → 3 casos de éxito documentados con testimonios reales
 *   → 7 verticales activas en la plataforma
 *   → 100% participantes recomendarían el programa
 *   → 1 negocio rural nacido del programa (Camino Viejo)
 *
 * Cuando la plataforma SaaS tenga datos reales de uso,
 * estas métricas se actualizarán vía Theme Settings o query a ContentEntities.
 *
 * @see 20260226-Plan_Implementacion_MetaSitio_Remediacion_Integral_v1.md
 */
#}

{# Fallback: Datos verificables del programa Andalucía +ei #}
{% set default_stats = [
  { value: 10, suffix: '', label: 'Verticales especializados'|t },
  { value: 11, suffix: '', label: 'Agentes IA Gen 2'|t },
  { value: 80, suffix: '+', label: 'Módulos custom Drupal 11'|t },
  { value: 100, suffix: '%', label: 'Recomendarían el programa'|t }
] %}

{% set stat_items = stats|default([])|length > 0 ? stats : default_stats %}

<section class="stats-section reveal-element reveal-fade-up" aria-labelledby="stats-title">
  <div class="stats-section__container">
    <h2 id="stats-title" class="visually-hidden">{% trans %}Resultados verificables{% endtrans %}</h2>

    <div class="stats-grid">
      {% for stat in stat_items %}
        <div class="stat-item">
          <span class="stat-item__number" data-count="{{ stat.value }}">0</span>
          {% if stat.suffix %}<span class="stat-item__suffix">{{ stat.suffix }}</span>{% endif %}
          <span class="stat-item__label">{{ stat.label }}</span>
        </div>
      {% endfor %}
    </div>
  </div>
</section>
