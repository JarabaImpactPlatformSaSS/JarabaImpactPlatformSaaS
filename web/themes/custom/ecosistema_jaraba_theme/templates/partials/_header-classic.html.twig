{#
/**
 * @file
 * Header sub-partial: Classic
 *
 * Layout estándar: Logo izquierda, nav horizontal centro, acciones derecha.
 * Mobile: Hamburguesa que se transforma en X.
 *
 * Variables esperadas:
 * - site_name, site_slogan, logo, logged_in
 * - nav_items: array de { text, url } desde theme_settings.navigation_items
 * - theme_settings: configuración completa del tema
 */
#}
<header class="landing-header landing-header--classic" role="banner">
  <div class="landing-header__container">
    
    {# Logo + Branding #}
    <a href="{{ path('<front>') }}" class="landing-header__brand" rel="home">
      {% if logo %}
        <img src="{{ logo }}" alt="{{ site_name }}" class="landing-header__logo" />
      {% endif %}
      <div class="landing-header__text">
        <span class="landing-header__name">{{ site_name }}</span>
        <span class="landing-header__slogan">{{ site_slogan }}</span>
      </div>
    </a>

    {# Navegación Principal — dinámica desde theme_settings #}
    <nav class="landing-header__nav" aria-label="{% trans %}Main navigation{% endtrans %}">
      <ul class="landing-nav">
        {% for item in nav_items|default([]) %}
          <li><a href="{{ item.url }}">{{ item.text }}</a></li>
        {% endfor %}
      </ul>
    </nav>

    {# Acciones Usuario (visible en desktop) #}
    <div class="landing-header__actions">
      {# Auth actions: ocultar en sitios brochure via header_show_auth #}
      {% set show_auth = (theme_settings.header_show_auth is defined) ? theme_settings.header_show_auth : true %}
      {% if show_auth %}
        {% if logged_in %}
          <a href="/user" class="btn-ghost">{% trans %}Mi cuenta{% endtrans %}</a>
          <a href="/user/logout" class="btn-ghost">{% trans %}Cerrar sesión{% endtrans %}</a>
        {% else %}
          <a href="/user/login" class="btn-ghost">{% trans %}Iniciar sesión{% endtrans %}</a>
          {% if not theme_settings.enable_header_cta %}
            <a href="/user/register" class="btn-primary btn-primary--glow">
              {% trans %}Empezar gratis{% endtrans %}
            </a>
          {% endif %}
        {% endif %}
      {% endif %}
      {# CTA configurable — visible siempre (independiente de show_auth) #}
      {% if theme_settings.enable_header_cta %}
        <a href="{{ theme_settings.header_cta_url|default('/user/register') }}" class="btn-primary btn-primary--glow">
          {{ theme_settings.header_cta_text|default('Empezar gratis'|t) }}
        </a>
      {% endif %}
    </div>

    {# Mobile Menu Toggle #}
    <button class="landing-header__toggle" aria-label="{% trans %}Toggle menu{% endtrans %}" aria-expanded="false">
      <span class="hamburger"></span>
    </button>
  </div>
</header>
